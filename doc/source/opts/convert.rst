Convert
----------

The ``convert`` subcommand converts a JSON file to a logic file. The logic file can be in Clingo or ErgoAI format. 
The JSON file is generated by the ``graph`` subcommand. The logic file is used to execute queries in the ``query`` subcommand.

.. code-block:: text

    usage: schedule.py convert [-h] [-o <FILE>] [-v] [-c] [-e] [-j <FILE>] {graph,convert,query} ...

    positional arguments:
    {graph,convert,query}                             Type the 'subcommand' name followed by '-h' or '
                                                        --help' for more information.
        graph                                           Creates knowledge graph of Stony Brook's course
                                                        catalogue via an input knowledge base (as a
                                                        URL).
        convert                                         Convert knowledge graph JSON to logic file
                                                        knowledge graph/base.
        query                                           Executes queries provided a knowledge
                                                        base/graph.

    options:
    -h, --help                                        show this help message and exit
    -o <FILE>, --output <FILE>, --output-file <FILE>  OPTIONAL: Output filename for the JSON/logic
                                                        file. If not specified, then a new file with the
                                                        major in the filename is created in the
                                                        package's resource directory.
    -v, --verbose                                     OPTIONAL: Print output to screen.
    -c, --clingo                                      OPTIONAL: Convert JSON file to Clingo logic
                                                        file. NOTE: Both or at least one of '--clingo'
                                                        or '--ergo' must be specified for JSON
                                                        conversion. Use Clingo to execute the query.
                                                        NOTE: At least one of '--clingo' or '--ergo'
                                                        must be specified for query execution.
    -e, --ergo, --ergoai                              OPTIONAL: Convert JSON file to ErgoAI logic
                                                        file. NOTE: Both or at least one of '--clingo'
                                                        or '--ergo' must be specified for JSON
                                                        conversion. WARNING: Ergo conversion can only be
                                                        done once per python session. NOTE: At least one
                                                        of '--clingo' or '--ergo' must be specified for
                                                        query execution. DANGER: ErgoAI query execution
                                                        is not fully supported.
    -j <FILE>, --json <FILE>, --json-file <FILE>      REQUIRED: Input JSON file containing course
                                                        information.


The following flow chart shows the process of converting a JSON file to a Clingo logic file:

.. figure:: figs/json_to_clingo_kg.png
